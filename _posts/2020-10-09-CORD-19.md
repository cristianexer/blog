---
keywords: fastai
title: CORD-19 Clustering Articles and Papers related to Coronavirus
nb_path: _notebooks/2020-10-09-CORD-19.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-10-09-CORD-19.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Kaggle-credentials-to-download-the-dataset-|-Remove-duplicates-and-missing-values">Kaggle credentials to download the dataset | Remove duplicates and missing values<a class="anchor-link" href="#Kaggle-credentials-to-download-the-dataset-|-Remove-duplicates-and-missing-values"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;CORD-19-research-challenge.zip&#39;</span><span class="p">):</span>
  <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;KAGGLE_USERNAME&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1"># username from the json file</span>
  <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;KAGGLE_KEY&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1"># key from the json file</span>
  <span class="err">!</span><span class="n">kaggle</span> <span class="n">datasets</span> <span class="n">download</span> <span class="o">-</span><span class="n">d</span> <span class="n">allen</span><span class="o">-</span><span class="n">institute</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">ai</span><span class="o">/</span><span class="n">CORD</span><span class="o">-</span><span class="mi">19</span><span class="o">-</span><span class="n">research</span><span class="o">-</span><span class="n">challenge</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 125 µs, sys: 0 ns, total: 125 µs
Wall time: 220 µs
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Find the dataset and unpack it</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;.config&#39;, &#39;CORD-19-research-challenge.zip&#39;, &#39;sample_data&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">zipfile</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;CORD-19-research-challenge.zip&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
   <span class="k">with</span> <span class="n">z</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;metadata.csv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sha</th>
      <th>source_x</th>
      <th>title</th>
      <th>doi</th>
      <th>pmcid</th>
      <th>pubmed_id</th>
      <th>license</th>
      <th>abstract</th>
      <th>publish_time</th>
      <th>authors</th>
      <th>journal</th>
      <th>Microsoft Academic Paper ID</th>
      <th>WHO #Covidence</th>
      <th>has_full_text</th>
      <th>full_text_file</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>Elsevier</td>
      <td>Intrauterine virus infections and congenital h...</td>
      <td>10.1016/0002-8703(72)90077-4</td>
      <td>NaN</td>
      <td>4361535.0</td>
      <td>els-covid</td>
      <td>Abstract The etiologic basis for the vast majo...</td>
      <td>1972-12-31</td>
      <td>Overall, James C.</td>
      <td>American Heart Journal</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>False</td>
      <td>custom_license</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>Elsevier</td>
      <td>Coronaviruses in Balkan nephritis</td>
      <td>10.1016/0002-8703(80)90355-5</td>
      <td>NaN</td>
      <td>6243850.0</td>
      <td>els-covid</td>
      <td>NaN</td>
      <td>1980-03-31</td>
      <td>Georgescu, Leonida; Diosi, Peter; Buţiu, Ioan;...</td>
      <td>American Heart Journal</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>False</td>
      <td>custom_license</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>Elsevier</td>
      <td>Cigarette smoking and coronary heart disease: ...</td>
      <td>10.1016/0002-8703(80)90356-7</td>
      <td>NaN</td>
      <td>7355701.0</td>
      <td>els-covid</td>
      <td>NaN</td>
      <td>1980-03-31</td>
      <td>Friedman, Gary D</td>
      <td>American Heart Journal</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>False</td>
      <td>custom_license</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So far we are interested just in title,abstract and maybe authors</p>
<ul>
<li>First we get rid of rows with missing values</li>
<li>Then we get rid of the duplicated values</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="s1">&#39;abstract&#39;</span><span class="p">,</span><span class="s1">&#39;authors&#39;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>title        224
abstract    8414
authors     3146
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>title       0
abstract    0
authors     0
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>20</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>abstract</th>
      <th>authors</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Intrauterine virus infections and congenital h...</td>
      <td>Abstract The etiologic basis for the vast majo...</td>
      <td>Overall, James C.</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Clinical and immunologic studies in identical ...</td>
      <td>Abstract Middle-aged female identical twins, o...</td>
      <td>Brunner, Carolyn M.; Horwitz, David A.; Shann,...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Epidemiology of community-acquired respiratory...</td>
      <td>Abstract Upper respiratory tract infections ar...</td>
      <td>Garibaldi, Richard A.</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tensorflow-Upgrade">Tensorflow Upgrade<a class="anchor-link" href="#Tensorflow-Upgrade"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we prepare some simple clustering functions to be used later on</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip install --upgrade tensorflow
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Requirement already up-to-date: tensorflow in /usr/local/lib/python3.6/dist-packages (2.1.0)
Requirement already satisfied, skipping upgrade: absl-py&gt;=0.7.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (0.9.0)
Requirement already satisfied, skipping upgrade: scipy==1.4.1; python_version &gt;= &#34;3&#34; in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.4.1)
Requirement already satisfied, skipping upgrade: astor&gt;=0.6.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (0.8.1)
Requirement already satisfied, skipping upgrade: numpy&lt;2.0,&gt;=1.16.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.18.2)
Requirement already satisfied, skipping upgrade: wheel&gt;=0.26; python_version &gt;= &#34;3&#34; in /usr/local/lib/python3.6/dist-packages (from tensorflow) (0.34.2)
Requirement already satisfied, skipping upgrade: six&gt;=1.12.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.12.0)
Requirement already satisfied, skipping upgrade: keras-preprocessing&gt;=1.1.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.1.0)
Requirement already satisfied, skipping upgrade: tensorflow-estimator&lt;2.2.0,&gt;=2.1.0rc0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (2.1.0)
Requirement already satisfied, skipping upgrade: opt-einsum&gt;=2.3.2 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (3.2.0)
Requirement already satisfied, skipping upgrade: termcolor&gt;=1.1.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.1.0)
Requirement already satisfied, skipping upgrade: keras-applications&gt;=1.0.8 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.0.8)
Requirement already satisfied, skipping upgrade: gast==0.2.2 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (0.2.2)
Requirement already satisfied, skipping upgrade: google-pasta&gt;=0.1.6 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (0.2.0)
Requirement already satisfied, skipping upgrade: tensorboard&lt;2.2.0,&gt;=2.1.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (2.1.1)
Requirement already satisfied, skipping upgrade: grpcio&gt;=1.8.6 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.24.3)
Requirement already satisfied, skipping upgrade: protobuf&gt;=3.8.0 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (3.10.0)
Requirement already satisfied, skipping upgrade: wrapt&gt;=1.11.1 in /usr/local/lib/python3.6/dist-packages (from tensorflow) (1.12.1)
Requirement already satisfied, skipping upgrade: h5py in /usr/local/lib/python3.6/dist-packages (from keras-applications&gt;=1.0.8-&gt;tensorflow) (2.8.0)
Requirement already satisfied, skipping upgrade: setuptools&gt;=41.0.0 in /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (46.0.0)
Requirement already satisfied, skipping upgrade: google-auth-oauthlib&lt;0.5,&gt;=0.4.1 in /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (0.4.1)
Requirement already satisfied, skipping upgrade: requests&lt;3,&gt;=2.21.0 in /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (2.21.0)
Requirement already satisfied, skipping upgrade: google-auth&lt;2,&gt;=1.6.3 in /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (1.7.2)
Requirement already satisfied, skipping upgrade: markdown&gt;=2.6.8 in /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (3.2.1)
Requirement already satisfied, skipping upgrade: werkzeug&gt;=0.11.15 in /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (1.0.0)
Requirement already satisfied, skipping upgrade: requests-oauthlib&gt;=0.7.0 in /usr/local/lib/python3.6/dist-packages (from google-auth-oauthlib&lt;0.5,&gt;=0.4.1-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (1.3.0)
Requirement already satisfied, skipping upgrade: urllib3&lt;1.25,&gt;=1.21.1 in /usr/local/lib/python3.6/dist-packages (from requests&lt;3,&gt;=2.21.0-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (1.24.3)
Requirement already satisfied, skipping upgrade: certifi&gt;=2017.4.17 in /usr/local/lib/python3.6/dist-packages (from requests&lt;3,&gt;=2.21.0-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (2019.11.28)
Requirement already satisfied, skipping upgrade: chardet&lt;3.1.0,&gt;=3.0.2 in /usr/local/lib/python3.6/dist-packages (from requests&lt;3,&gt;=2.21.0-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (3.0.4)
Requirement already satisfied, skipping upgrade: idna&lt;2.9,&gt;=2.5 in /usr/local/lib/python3.6/dist-packages (from requests&lt;3,&gt;=2.21.0-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (2.8)
Requirement already satisfied, skipping upgrade: pyasn1-modules&gt;=0.2.1 in /usr/local/lib/python3.6/dist-packages (from google-auth&lt;2,&gt;=1.6.3-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (0.2.8)
Requirement already satisfied, skipping upgrade: cachetools&lt;3.2,&gt;=2.0.0 in /usr/local/lib/python3.6/dist-packages (from google-auth&lt;2,&gt;=1.6.3-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (3.1.1)
Requirement already satisfied, skipping upgrade: rsa&lt;4.1,&gt;=3.1.4 in /usr/local/lib/python3.6/dist-packages (from google-auth&lt;2,&gt;=1.6.3-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (4.0)
Requirement already satisfied, skipping upgrade: oauthlib&gt;=3.0.0 in /usr/local/lib/python3.6/dist-packages (from requests-oauthlib&gt;=0.7.0-&gt;google-auth-oauthlib&lt;0.5,&gt;=0.4.1-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (3.1.0)
Requirement already satisfied, skipping upgrade: pyasn1&lt;0.5.0,&gt;=0.4.6 in /usr/local/lib/python3.6/dist-packages (from pyasn1-modules&gt;=0.2.1-&gt;google-auth&lt;2,&gt;=1.6.3-&gt;tensorboard&lt;2.2.0,&gt;=2.1.0-&gt;tensorflow) (0.4.8)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Text-features-extraction">Text features extraction<a class="anchor-link" href="#Text-features-extraction"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="kn">import</span> <span class="nn">tensorflow_hub</span> <span class="k">as</span> <span class="nn">hub</span>
<span class="k">class</span> <span class="nc">UniversalSenteneceEncoder</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoder</span><span class="o">=</span><span class="s1">&#39;universal-sentence-encoder&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoder</span> <span class="o">=</span> <span class="n">encoder</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">embd</span> <span class="o">=</span> <span class="n">hub</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;https://tfhub.dev/google/</span><span class="si">{</span><span class="n">encoder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">embed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sentences</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">embd</span><span class="p">(</span><span class="n">sentences</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">squized</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sentences</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">embd</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="n">tf</span><span class="o">.</span><span class="n">string</span><span class="p">))))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">encoder</span> <span class="o">=</span> <span class="n">UniversalSenteneceEncoder</span><span class="p">(</span><span class="n">encoder</span><span class="o">=</span><span class="s1">&#39;universal-sentence-encoder&#39;</span><span class="p">,</span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since this process is quite consuming we will slice the dataset</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Title-Feature-correlation">Title Feature correlation<a class="anchor-link" href="#Title-Feature-correlation"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;title_sent_vects&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">squized</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 8.13 s, sys: 3.23 s, total: 11.4 s
Wall time: 5.22 s
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="n">sents</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="n">sents</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="n">sents</span><span class="p">]</span><span class="o">.</span><span class="n">title_sent_vects</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Heatmap</span><span class="p">(</span>
                    <span class="n">z</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inner</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">features</span><span class="p">),</span>
                    <span class="n">x</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
                    <span class="n">y</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
                    <span class="n">colorscale</span><span class="o">=</span><span class="s1">&#39;Viridis&#39;</span><span class="p">,</span>
                    <span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">40</span><span class="p">),</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">autorange</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">showgrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">ticks</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="n">showticklabels</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">autorange</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">showgrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">ticks</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="n">showticklabels</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>
                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>    
            <div id="da16c833-cb5d-4e4f-acbb-911d5b2fe3f8" class="plotly-graph-div" style="height:1000px; width:100%;"></div>
            <script type="text/javascript">
                
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("da16c833-cb5d-4e4f-acbb-911d5b2fe3f8")) {
                    Plotly.newPlot(
                        'da16c833-cb5d-4e4f-acbb-911d5b2fe3f8',
                        [{"colorscale": [[0.0, "#440154"], [0.1111111111111111, "#482878"], [0.2222222222222222, "#3e4989"], [0.3333333333333333, "#31688e"], [0.4444444444444444, "#26828e"], [0.5555555555555556, "#1f9e89"], [0.6666666666666666, "#35b779"], [0.7777777777777778, "#6ece58"], [0.8888888888888888, "#b5de2b"], [1.0, "#fde725"]], "type": "heatmap", "x": ["Intrauterine virus infections and congenital heart disease", "Clinical and immunologic studies in identical twins discordant for systemic lupus erythematosus", "Epidemiology of community-acquired respiratory tract infections in adults Incidence, etiology, and impact", "Infectious diarrhea: Pathogenesis and risk factors", "New perspectives on the pathogenesis of rheumatoid arthritis", "Management of acute and chronic respiratory tract infections", "Acute bronchitis: Results of U.S. and European trials of antibiotic therapy", "Determination of microsomal lauric acid hydroxylase activity by HPLC with flow-through radiochemical quantitation", "Phospholipid vesicles containing bovine heart mitochondrial cytochrome c oxidase exhibit proton translocating activity in the presence of gramicidin", "The oligomeric structure of renal aminopeptidase N from bovine brush-border membrane vesicles", "Monoclonal antibodies identify multiple epitopes on maize leaf nitrate reductase", "Predict7, a program for protein structure prediction", "Suppression of MHV3 virus-activated macrophages by dieldrin", "Broad-spectrum antiviral activity of carbodine, the carbocyclic analogue of cytidine", "Inhibition of ribonucleotide reductase and growth of human colon carcinoma HT-29 cells and mouse leukemia L1210 cells by N-hydroxy-N\u2032-aminoguanidine derivatives", "Antitumor activity and biochemical effects of topsentin", "Broad-spectrum antiviral and cytocidal activity of cyclopentenylcytosine, a carbocyclic nucleoside targeted at CTP synthetase", "Inhibition of aminopeptidases N, A and W A re-evaluation of the actions of bestatin and inhibitors of angiotensin converting enzyme", "Paraneoplastic limbic encephalitis: Neuropsychiatric presentation", "The relationship between axonal transport of protein and demyelination in the optic nerves of mice infected with Semliki Forest Virus", "Regulation of astrocyte proliferation by prostaglandin E2 and the \u03b1 subtype of protein kinase C", "Polarity of processes with Golgi apparatus in a subpopulation of type I astrocytes", "Selective induction of interleukin-6 in mouse microglia by granulocyte-macrophage colony-stimulating factor", "Diarrhoea in the dog and cat I. Acute diarrhoea", "Immune-mediated diseases of the dog and cat III. Immune-mediated diseases of the integumentary, urogenital, endocrine and vascular systems", "Characterization of an influenza A (H3N2) virus isolated from pigs in England in 1987", "Blood biochemical reference ranges for sows under modern management conditions", "An ELISA for the detection of serum antibodies to both transmissible gastroenteritis virus and porcine respiratory coronavirus", "Feline immunodeficiency virus: A brief review", "Equine arteritis virus: An overview", "Recent advances in avian virology", "Central nervous system myelin: structure, function, and pathology", "A computer based system for collection, storage, retrieval and reporting accession information in a veterinary medical diagnostic laboratory", "Morphology and morphogenesis of a coronavirus infecting intestinal epithelial cells of newborn calves", "Visceral target organs in systemic St. Louis encephalitis virus infection of hamsters", "Leptomeningitis and polycaryocyte formation in the CNS of rats inoculated subcutaneously with Herpes simplex virus", "Development of a murine model to study the pathogenesis of rotavirus infection", "Bovine coronavirus antigen in the host cell plasmalemma", "Formation and activity of covalent conjugates of poliovirus and ligands binding to cell surface structures", "Transient hyperglycosylation of rhodopsin with galactose", "Expression of Ia antigen on perivascular and microglial cells after sublethal and lethal motor neuron injury", "Analogous amino acid sequences in myelin proteolipid and viral proteins", "Stop making sense or Regulation at the level of termination in eukaryotic protein synthesis", "A novel superfamily of nucleoside triphosphate-binding motif containing proteins which are probably involved in duplex unwinding in DNA and RNA replication and recombination", "Endosomal association of a protein phosphatase with high dephosphorylating activity against a coronavirus nucleocapsid protein", "Putative papain-related thiol proteases of positive-strand RNA viruses Identification of rubi- and aphthovirus proteases and delineation of a novel conserved domain associated with proteases of rubi-, \u03b1- and coronaviruses", "Acidic pH induces fusion of cells infected with baculovirus to form syncytia", "Identification of an aprotinin antiviral domain", "Overexpression of TGN38/41 leads to mislocalisation of \u03b3-adaptin", "Disposition of the car\u2610y-terminus tail of rabbit lactase-phlorizin hydrolase elucidated by phosphorylation with protein kinase A in vitro and in tissue culture"], "y": ["Intrauterine virus infections and congenital heart disease", "Clinical and immunologic studies in identical twins discordant for systemic lupus erythematosus", "Epidemiology of community-acquired respiratory tract infections in adults Incidence, etiology, and impact", "Infectious diarrhea: Pathogenesis and risk factors", "New perspectives on the pathogenesis of rheumatoid arthritis", "Management of acute and chronic respiratory tract infections", "Acute bronchitis: Results of U.S. and European trials of antibiotic therapy", "Determination of microsomal lauric acid hydroxylase activity by HPLC with flow-through radiochemical quantitation", "Phospholipid vesicles containing bovine heart mitochondrial cytochrome c oxidase exhibit proton translocating activity in the presence of gramicidin", "The oligomeric structure of renal aminopeptidase N from bovine brush-border membrane vesicles", "Monoclonal antibodies identify multiple epitopes on maize leaf nitrate reductase", "Predict7, a program for protein structure prediction", "Suppression of MHV3 virus-activated macrophages by dieldrin", "Broad-spectrum antiviral activity of carbodine, the carbocyclic analogue of cytidine", "Inhibition of ribonucleotide reductase and growth of human colon carcinoma HT-29 cells and mouse leukemia L1210 cells by N-hydroxy-N\u2032-aminoguanidine derivatives", "Antitumor activity and biochemical effects of topsentin", "Broad-spectrum antiviral and cytocidal activity of cyclopentenylcytosine, a carbocyclic nucleoside targeted at CTP synthetase", "Inhibition of aminopeptidases N, A and W A re-evaluation of the actions of bestatin and inhibitors of angiotensin converting enzyme", "Paraneoplastic limbic encephalitis: Neuropsychiatric presentation", "The relationship between axonal transport of protein and demyelination in the optic nerves of mice infected with Semliki Forest Virus", "Regulation of astrocyte proliferation by prostaglandin E2 and the \u03b1 subtype of protein kinase C", "Polarity of processes with Golgi apparatus in a subpopulation of type I astrocytes", "Selective induction of interleukin-6 in mouse microglia by granulocyte-macrophage colony-stimulating factor", "Diarrhoea in the dog and cat I. Acute diarrhoea", "Immune-mediated diseases of the dog and cat III. Immune-mediated diseases of the integumentary, urogenital, endocrine and vascular systems", "Characterization of an influenza A (H3N2) virus isolated from pigs in England in 1987", "Blood biochemical reference ranges for sows under modern management conditions", "An ELISA for the detection of serum antibodies to both transmissible gastroenteritis virus and porcine respiratory coronavirus", "Feline immunodeficiency virus: A brief review", "Equine arteritis virus: An overview", "Recent advances in avian virology", "Central nervous system myelin: structure, function, and pathology", "A computer based system for collection, storage, retrieval and reporting accession information in a veterinary medical diagnostic laboratory", "Morphology and morphogenesis of a coronavirus infecting intestinal epithelial cells of newborn calves", "Visceral target organs in systemic St. Louis encephalitis virus infection of hamsters", "Leptomeningitis and polycaryocyte formation in the CNS of rats inoculated subcutaneously with Herpes simplex virus", "Development of a murine model to study the pathogenesis of rotavirus infection", "Bovine coronavirus antigen in the host cell plasmalemma", "Formation and activity of covalent conjugates of poliovirus and ligands binding to cell surface structures", "Transient hyperglycosylation of rhodopsin with galactose", "Expression of Ia antigen on perivascular and microglial cells after sublethal and lethal motor neuron injury", "Analogous amino acid sequences in myelin proteolipid and viral proteins", "Stop making sense or Regulation at the level of termination in eukaryotic protein synthesis", "A novel superfamily of nucleoside triphosphate-binding motif containing proteins which are probably involved in duplex unwinding in DNA and RNA replication and recombination", "Endosomal association of a protein phosphatase with high dephosphorylating activity against a coronavirus nucleocapsid protein", "Putative papain-related thiol proteases of positive-strand RNA viruses Identification of rubi- and aphthovirus proteases and delineation of a novel conserved domain associated with proteases of rubi-, \u03b1- and coronaviruses", "Acidic pH induces fusion of cells infected with baculovirus to form syncytia", "Identification of an aprotinin antiviral domain", "Overexpression of TGN38/41 leads to mislocalisation of \u03b3-adaptin", "Disposition of the car\u2610y-terminus tail of rabbit lactase-phlorizin hydrolase elucidated by phosphorylation with protein kinase A in vitro and in tissue culture"], "z": [[1.000000112896951, 0.25928275115983923, 0.4089282912936889, 0.4575999104796432, 0.15435014767302233, 0.4604113730896748, 0.3534262269447435, 0.12532311491221795, 0.18107133682190812, 0.2772665766371026, 0.056470646656507736, 0.04469493726655378, 0.29457643874340694, 0.13492268763991144, 0.17448060917496538, 0.28303935832843546, 0.16975887867222772, 0.17039114814668888, 0.2878224818346201, 0.23864868239739728, 0.2201489780303296, 0.1490749200613533, 0.0472933736074404, 0.19876135010651835, 0.3286115194565825, 0.30113804071557143, 0.14289258635698038, 0.3228176906700112, 0.3822142519082411, 0.3704932892633074, 0.21778976044782905, 0.26752032007482485, 0.13942472852929033, 0.32610442468641787, 0.41923083105436454, 0.4333252006674661, 0.24487260419331847, 0.2557462630035528, 0.16657247979890266, 0.220543079044819, 0.1705134891579686, 0.2555673540794088, 0.1495618845150259, 0.2210585093951223, 0.17926304304865093, 0.31809060667835565, 0.2790087736506633, 0.20188453056946765, 0.1705155487322741, 0.16516800248911248], [0.25928275115983923, 0.999999917083647, 0.21721256219721669, 0.11807687232159739, 0.2732838679897617, 0.186023303178962, 0.2410435165024481, 0.0824028655422153, 0.04930599378162345, 0.052469182133088814, 0.1694158916881281, 0.029311675891190117, 0.10476085766039049, 0.24606801177582843, 0.1770668191001097, 0.21978534102599534, 0.23001568364103187, 0.09198750703158728, 0.14651560610503586, 0.2071441755475128, 0.09506758644271013, 0.07735573311029256, 0.050429698383523236, 0.08775151726951126, 0.23788995611509123, 0.26846057658313466, 0.18977481909643162, 0.37503492080090894, 0.17577130548163866, 0.24818220278079295, 0.07009710072451263, 0.2872560450624476, 0.15833890343761292, 0.1695561541498088, 0.198138451223489, 0.23278437400606944, 0.21024673371086283, 0.10986642676241731, 0.07028687678544784, 0.19455037416932147, 0.16850006279490526, 0.26276223876050053, 0.006030592194528169, 0.25243407747823754, 0.15314091164807236, 0.1288215302702972, 0.04294622733540429, 0.11108778173509704, 0.11982696140090353, 0.1295101864330206], [0.4089282912936889, 0.21721256219721669, 0.9999997708294912, 0.2651390773620806, 0.2310802670980326, 0.4898591919272529, 0.4732293468744793, 0.0918505131147713, 0.1730004405219896, 0.1757677948226531, 0.10764734948542956, 0.025128354506142103, 0.23114733929076603, 0.1185719472443548, 0.18685472611120924, 0.40907630438950804, 0.234160751081194, 0.21126251065597929, 0.27299061005660885, 0.14355285930343975, 0.10070690403728118, 0.09438067363874517, 0.04007036048677224, 0.14710157693424744, 0.28958722862049247, 0.22459940021340302, 0.21404730561229202, 0.2545920017315893, 0.2519373225364584, 0.25470863810581534, 0.15977903891374884, 0.2720241728543455, 0.11060131018406807, 0.19040163447467548, 0.27564543968158983, 0.2690897765270105, 0.3233452914350286, 0.08111170347960597, 0.19603364667751152, 0.09145604198860927, 0.21474096926676933, 0.17115252163975103, 0.07257371283100038, 0.15769663660505834, 0.08350395452096143, 0.21339794573307333, 0.08524874244763432, 0.15056590463895086, 0.10798470801528276, 0.12384605211831082], [0.4575999104796432, 0.11807687232159739, 0.2651390773620806, 0.99999990019006, 0.18260737285136075, 0.29411201177788904, 0.2575989618983574, 0.11721344799037525, 0.05977584488272498, 0.06539113428052001, 0.134697926094993, -0.007934865862146031, 0.14894128497081408, 0.12433489359828717, 0.1694288896265087, 0.32155920945585525, 0.13603899564205157, 0.175711770473294, 0.27485700422458337, 0.2192327208696895, 0.08325318224606743, 0.12265657422564942, 0.15809905776626318, 0.424200880090414, 0.15555183156684696, 0.2657651018185358, 0.1368344324009826, 0.21511848005812462, 0.25712726081902837, 0.28959525868367036, 0.1280519761335491, 0.13106499547210282, 0.03807565958455614, 0.20871357544420055, 0.2727573892068237, 0.25006607222383115, 0.2153981383430717, 0.12376413228757255, 0.10250545962247805, 0.11476187454477729, 0.15452741414047544, 0.13087694138514439, 0.054916777512137235, 0.050432636605822666, 0.05219985638625356, 0.09945805634855048, 0.12550229115279693, 0.18810564731989393, 0.11275015433442032, 0.07051759601526462], [0.15435014767302233, 0.2732838679897617, 0.2310802670980326, 0.18260737285136075, 0.9999999019483901, 0.18305302023395514, 0.2393539225146514, 0.10599577659059874, 0.024760975313850422, 0.08831146881087668, 0.15537929857523392, 0.10348929045402894, 0.09213335627173885, 0.2200462678239341, 0.039970546370274175, 0.21891174981761502, 0.08529672671659357, 0.10173564790875092, 0.20799503071175635, 0.070912026737454, 0.03657968709805256, 0.012468093559013748, 0.07355785226533951, 0.09245501606387309, 0.10315839112480914, 0.16458712541520348, 0.2161251782011963, 0.20382065584017628, 0.25778325746512865, 0.3132955154387394, 0.40050331893944147, 0.13556166179745022, 0.10482147082449583, 0.03373897462130315, 0.07020492998146013, 0.02411804883424071, 0.3871006893802147, 0.12092045862038406, 0.017267956814981465, 0.17812019276569638, 0.05068897774471033, 0.1397211396298062, -0.012785829034339165, 0.07499366250362535, 0.045423306246648226, 0.08078460437093425, 0.10548707203282483, 0.10214307287848079, 0.20210292242774058, 0.01288411272011595], [0.4604113730896748, 0.186023303178962, 0.4898591919272529, 0.29411201177788904, 0.18305302023395514, 1.0000000719589908, 0.4947094801899181, 0.05574708613505985, -0.02673071811797864, 0.10115879554525868, 0.08660643490068008, -0.058390283614070136, 0.10229020567748387, 0.0970174101247036, 0.09569376717008282, 0.1292144542402026, 0.09176170100449861, 0.02814551485669938, 0.13145719034775505, 0.04934042356365187, 0.051433694287869994, 0.03157688151837043, -0.03666957959795333, 0.16363663694683378, 0.16054431461482477, 0.1916263895199543, 0.23977178601340962, 0.24222689691982074, 0.26539003378718357, 0.17064521921797454, 0.14256321479264705, 0.15396455421144606, 0.19544838622874663, 0.19246901259822863, 0.18043333707073783, 0.15623076562164856, 0.20332107278255868, 0.12012726259390474, 0.08437386511030548, 0.1309810823568572, 0.10276639084420662, 0.04657310292848113, 0.02228738088019933, 0.03523428348354143, -0.01733825955913968, 0.043872155295984636, 0.060066126255103235, 0.08867642312816752, 0.04915445452331561, -0.044995945314658906], [0.3534262269447435, 0.2410435165024481, 0.4732293468744793, 0.2575989618983574, 0.2393539225146514, 0.4947094801899181, 0.9999998734347111, 0.17527129904730487, 0.035373494083512175, 0.07440450782731814, 0.08789637627955384, 0.009559949007127418, 0.14995828441850087, 0.17493796549486018, 0.1995142662459632, 0.19683000075395485, 0.26280463204740845, 0.24451785745885407, 0.1762676187793875, 0.14606849075138523, 0.1654429421685687, 0.07579422974870594, 0.03716867494044928, 0.1981069902914035, 0.18757914494015945, 0.2325418113068786, 0.18388021719668798, 0.33410770038407106, 0.22541033313553535, 0.14805622637942512, 0.17641236919508368, 0.10205374007366215, 0.17951753371518706, 0.1329102828798815, 0.19122443507322587, 0.2260361233411533, 0.2744362476081007, 0.09243360735847134, 0.09879839358649256, 0.09920414022344268, 0.12176336693932166, 0.19138814483260014, 0.028805906936724534, 0.15769695336495615, 0.06878522490854613, 0.15967959693234807, 0.11432628396631606, 0.07091075723177599, 0.15266258771369573, 0.0432501706379006], [0.12532311491221795, 0.0824028655422153, 0.0918505131147713, 0.11721344799037525, 0.10599577659059874, 0.05574708613505985, 0.17527129904730487, 0.9999999677764897, 0.25346340299047243, 0.17964386550778266, 0.22211529331688368, 0.1976749300768647, 0.21998664717251215, 0.2581908467317522, 0.21072486262761536, 0.29970656578050026, 0.23346352620703437, 0.2951053712055037, 0.05733703426517641, 0.1927719425811833, 0.18953392085314996, 0.3334806190377084, 0.3115536288764068, 0.0074562916912071335, 0.07721549228753785, 0.10882844186905237, 0.1288112205500667, 0.1781915926067426, 0.09331274337696234, 0.06464728692796443, 0.004166475665160082, 0.07147336178993552, 0.13326776932771173, 0.15003035716778793, 0.1285887540916898, 0.12852833769720406, 0.2210677599469787, 0.13944829265819925, 0.2936101691167449, 0.26010869544965304, 0.21512801475483173, 0.17844859180731604, 0.06787878933060468, 0.14853258191254665, 0.22562808666177658, 0.14182176418397602, 0.2744966550772084, 0.10578702277237986, 0.2169275598981934, 0.20774703473556827], [0.18107133682190812, 0.04930599378162345, 0.1730004405219896, 0.05977584488272498, 0.024760975313850422, -0.02673071811797864, 0.035373494083512175, 0.25346340299047243, 0.9999998652636939, 0.5068298962723805, 0.2227651818632359, 0.0735976241067585, 0.2841786013802897, 0.2888913469428045, 0.23312193741808485, 0.2835482722252724, 0.301339663118451, 0.31376977456392796, 0.18174027922685007, 0.24773994378610095, 0.30718259217874255, 0.3634439815585584, 0.15602318327843115, 0.06856397672397652, 0.1893340639814428, 0.18226877185925267, 0.16546127266961547, 0.30026070668330074, 0.19604004940602365, 0.15557444026214753, 0.11357544347984638, 0.36996075016298574, 0.119302975364332, 0.3137733178131215, 0.21700664216259175, 0.3144259344980721, 0.23619566825358024, 0.3844948054931486, 0.4181067656936265, 0.3213222123143026, 0.3611016342140769, 0.2737324492191769, 0.2837025165753705, 0.32718106632297816, 0.33256524904155244, 0.2969257911111204, 0.3541482897001881, 0.20246610490565775, 0.11529867443885027, 0.44055970932464167], [0.2772665766371026, 0.052469182133088814, 0.1757677948226531, 0.06539113428052001, 0.08831146881087668, 0.10115879554525868, 0.07440450782731814, 0.17964386550778266, 0.5068298962723805, 0.9999999011769879, 0.19934870340633637, 0.19418762715286403, 0.34986482384157624, 0.18096284362931384, 0.20319109192417714, 0.1682345200502336, 0.14261447525669396, 0.32099743306519934, 0.19365428585203157, 0.22579116217840461, 0.3117111131135948, 0.37770745262251504, 0.11535051656669856, 0.10456933853874636, 0.23699566810608363, 0.07082080567989847, 0.1893078550443119, 0.17629975999497402, 0.2148222586209329, 0.19610077063948075, 0.11006640202953319, 0.3963925757893074, 0.08740521694810904, 0.3480211898163411, 0.1802209021821029, 0.31746707740522984, 0.2633927198665219, 0.40580501349344333, 0.425330735577758, 0.31241728027074034, 0.2354699497052318, 0.23411838288139983, 0.3527521046777665, 0.2733611139461321, 0.26483502110152535, 0.19316753446297646, 0.2700468131178445, 0.0859937027633589, 0.16494819716025094, 0.35682155723862397], [0.056470646656507736, 0.1694158916881281, 0.10764734948542956, 0.134697926094993, 0.15537929857523392, 0.08660643490068008, 0.08789637627955384, 0.22211529331688368, 0.2227651818632359, 0.19934870340633637, 0.9999998368229202, 0.1360325820893084, 0.31907428228270884, 0.3067296600252518, 0.22260591892619985, 0.1610472987829673, 0.1815459526701683, 0.09703287340979877, 0.21441744070834, 0.16958063244672258, 0.2197878661940533, 0.22736127817990662, 0.22641733023025837, 0.131388396702553, 0.2071970603299445, 0.15847362157288264, 0.21201716095561618, 0.3871658293654, 0.2068645217793895, 0.2192523756818, 0.10868419880513261, 0.08635583740329275, 0.1029479769033628, 0.26199261729753576, 0.1632126686334507, 0.25528322323756125, 0.23157996162276884, 0.3111568369044214, 0.12120365067923122, 0.2424757065593765, 0.23949658134203572, 0.22698978844135198, 0.03031511998027319, 0.14608871478070812, 0.15086862172183207, 0.11722978680811093, 0.1988740344509387, 0.2155947811368394, 0.17800292329281558, 0.2244960693429358], [0.04469493726655378, 0.029311675891190117, 0.025128354506142103, -0.007934865862146031, 0.10348929045402894, -0.058390283614070136, 0.009559949007127418, 0.1976749300768647, 0.0735976241067585, 0.19418762715286403, 0.1360325820893084, 0.9999998997112507, 0.10490613491574377, 0.06786925485030712, 0.14257094043806273, 0.10648366201393294, 0.11597485262920823, 0.12969125350741875, 0.10131059299007969, 0.191906067320464, 0.3695190295240024, 0.18605152727649896, 0.03736751400115954, 0.04909187710031069, 0.1135476001900436, 0.04674124434530502, 0.24394572068961784, 0.124955274016318, 0.11468981969760916, 0.1264753690962096, 0.06202919327329662, 0.2340666143416995, 0.23454909673751423, 0.1339444369560075, 0.09239247615010149, 0.11489467021166921, 0.32179305417992593, 0.21154239586450369, 0.2472991003577755, 0.12676734012692562, 0.14073235698642478, 0.20596330768893956, 0.2343430087847243, 0.23256055605455372, 0.441242479812236, 0.08836641490746372, 0.10013861154943701, 0.17138412481514229, 0.13413506631909458, 0.13622194100213444], [0.29457643874340694, 0.10476085766039049, 0.23114733929076603, 0.14894128497081408, 0.09213335627173885, 0.10229020567748387, 0.14995828441850087, 0.21998664717251215, 0.2841786013802897, 0.34986482384157624, 0.31907428228270884, 0.10490613491574377, 0.9999998582493717, 0.31901874856171636, 0.3222094829184236, 0.3417360615109127, 0.25576169416951305, 0.19592306082066618, 0.3597662548876168, 0.16069860871757918, 0.25785970983249656, 0.29174582141032235, 0.2057215885227192, 0.014573048171931438, 0.16261839456675922, 0.09861830241866171, 0.15493640554781096, 0.24132844074887994, 0.265925094998128, 0.2827067130987445, 0.21196446839986519, 0.2281881059186866, 0.036039555409502474, 0.3572001860342834, 0.2896658862177435, 0.2920243936727155, 0.3437473233537961, 0.4119387779547444, 0.2699243412888087, 0.3715688644531304, 0.30110314204837313, 0.27205072936175456, 0.2175733203706624, 0.21809379896050388, 0.2050331573164922, 0.28066894435929185, 0.32051673204644393, 0.2520831923097974, 0.3445400195464698, 0.2511785638564258], [0.13492268763991144, 0.24606801177582843, 0.1185719472443548, 0.12433489359828717, 0.2200462678239341, 0.0970174101247036, 0.17493796549486018, 0.2581908467317522, 0.2888913469428045, 0.18096284362931384, 0.3067296600252518, 0.06786925485030712, 0.31901874856171636, 0.9999997848897382, 0.18427640566185066, 0.3272259074869962, 0.5960069918074871, 0.23298355256291908, 0.22308444082126258, 0.20503681653708222, 0.25791686946514414, 0.24306602061876048, 0.23744073478773917, 0.07798121672133679, 0.13511916641844482, 0.24596235016746532, 0.2419706853658518, 0.3133211147797049, 0.22526484114761908, 0.25997101792475874, 0.17173909773847357, 0.17817100178091183, 0.02781260548882302, 0.2742062257725004, 0.2027529122678674, 0.3485583056634072, 0.3361054632963362, 0.32947305093098317, 0.26720350434730533, 0.2701361266485265, 0.18317170913503975, 0.38967126590455303, 0.08767112348720181, 0.2029555299624225, 0.3303139320606239, 0.2876988145770433, 0.2145110539151358, 0.3001383271819147, 0.30562011920533827, 0.22581236764963536], [0.17448060917496538, 0.1770668191001097, 0.18685472611120924, 0.1694288896265087, 0.039970546370274175, 0.09569376717008282, 0.1995142662459632, 0.21072486262761536, 0.23312193741808485, 0.20319109192417714, 0.22260591892619985, 0.14257094043806273, 0.3222094829184236, 0.18427640566185066, 1.000000011033242, 0.22406939802149933, 0.23113785997362896, 0.4254521201244027, 0.04846911312998886, 0.35619417389407165, 0.4696807472850313, 0.20627313540527253, 0.23403393080252427, 0.05998001245198606, 0.246036159470148, 0.07561549358212691, 0.1207496615261664, 0.26794704023012283, 0.16707241961923375, 0.049007362399139553, -0.000764425856339325, 0.22062996573376192, 0.12052949624192538, 0.37961093355140674, 0.16050611222099748, 0.20784931206166585, 0.2875073248986441, 0.2805128550174081, 0.3580265836256388, 0.161774882695511, 0.5007769865959508, 0.2331012119220731, 0.19336185531684066, 0.2605025070680419, 0.20448907548435455, 0.25527677299525964, 0.26640621626906985, 0.06502238161758289, 0.12192460436589114, 0.3659969830801001], [0.28303935832843546, 0.21978534102599534, 0.40907630438950804, 0.32155920945585525, 0.21891174981761502, 0.1292144542402026, 0.19683000075395485, 0.29970656578050026, 0.2835482722252724, 0.1682345200502336, 0.1610472987829673, 0.10648366201393294, 0.3417360615109127, 0.3272259074869962, 0.22406939802149933, 0.999999927641479, 0.28039901503719855, 0.3764108641481857, 0.25896853535974235, 0.17890338446437654, 0.21773637673084734, 0.21526450058807128, 0.07106006949863564, 0.10119577425451592, 0.19626747759065188, 0.08908939622335822, 0.23655853009462893, 0.16470035660072674, 0.2113853879203791, 0.2440957549943228, 0.07756662602604902, 0.3236664390447983, 0.05102085110348, 0.23115534213359756, 0.1291513311340024, 0.15597883320584816, 0.24997237582780518, 0.19130866863385285, 0.30907203447128256, 0.22902145527356804, 0.23600069432119766, 0.2527496232340284, 0.09775126594185743, 0.12456964399826892, 0.23919390077257224, 0.167527093321565, 0.1633631244262546, 0.16161962211879344, 0.25473989904639305, 0.21848770806719423], [0.16975887867222772, 0.23001568364103187, 0.234160751081194, 0.13603899564205157, 0.08529672671659357, 0.09176170100449861, 0.26280463204740845, 0.23346352620703437, 0.301339663118451, 0.14261447525669396, 0.1815459526701683, 0.11597485262920823, 0.25576169416951305, 0.5960069918074871, 0.23113785997362896, 0.28039901503719855, 0.9999998445965665, 0.3053134652295697, 0.12440161771511261, 0.2705086780137529, 0.30727067921560225, 0.19338127855709392, 0.21307188736334187, 0.07531610510839426, 0.09894225661686465, 0.20798569428296892, 0.14113659733111183, 0.37066714041292836, 0.21690868842735403, 0.22167478863025425, 0.1310121833023305, 0.13871076255457263, 0.0734301494851497, 0.2737734604360257, 0.1473391123440031, 0.4054576259200391, 0.3046539375754893, 0.1420916730874382, 0.3404442209591978, 0.24179391698335945, 0.258187338145205, 0.2824747468751085, 0.04049455220868518, 0.28830175109038053, 0.36200457229233335, 0.40624596673423596, 0.14974883031608383, 0.1797991524806849, 0.25936982203379677, 0.25155382318526354], [0.17039114814668888, 0.09198750703158728, 0.21126251065597929, 0.175711770473294, 0.10173564790875092, 0.02814551485669938, 0.24451785745885407, 0.2951053712055037, 0.31376977456392796, 0.32099743306519934, 0.09703287340979877, 0.12969125350741875, 0.19592306082066618, 0.23298355256291908, 0.4254521201244027, 0.3764108641481857, 0.3053134652295697, 0.9999998768080585, 0.07258567207487616, 0.23161848366693355, 0.4647049679541711, 0.22077571631522835, 0.15814779397018008, 0.11967895592963734, 0.1348811911086069, 0.043390473187874916, 0.18944327417294726, 0.23191093952092318, 0.10868376961855777, 0.031664931416930935, -0.05123235244904935, 0.23269599575337058, -0.0065415492919153155, 0.12854047452820405, 0.053627438966523, 0.17180156021619042, 0.20989223920712957, 0.14556925896538359, 0.39699354662035713, 0.2643548782540997, 0.348729963214633, 0.2660189141024158, 0.2440882915193735, 0.2828861804729923, 0.2377495094040049, 0.33590288894743636, 0.22514066704422853, -0.009414604579547441, 0.12430728634864832, 0.30767204750583443], [0.2878224818346201, 0.14651560610503586, 0.27299061005660885, 0.27485700422458337, 0.20799503071175635, 0.13145719034775505, 0.1762676187793875, 0.05733703426517641, 0.18174027922685007, 0.19365428585203157, 0.21441744070834, 0.10131059299007969, 0.3597662548876168, 0.22308444082126258, 0.04846911312998886, 0.25896853535974235, 0.12440161771511261, 0.07258567207487616, 0.9999997019459417, 0.1616675357381542, 0.05141816317491836, 0.16660594331288606, 0.1330389846069213, 0.18289828549010503, 0.23174711315925695, 0.14149342191255226, 0.10718995208848973, 0.22541331300409814, 0.407117401268545, 0.45725655654196634, 0.21888022607971108, 0.27319963061759817, 0.1527537144584883, 0.15446220979321726, 0.26190376015607825, 0.2798615443559, 0.26690436446023025, 0.3311368995354733, 0.03770485599229522, 0.2770833426156812, 0.20454591708354064, 0.21816111466100385, 0.053976636737456785, 0.09607535796217115, 0.10849188857973205, 0.16426090031367577, 0.10213559944597617, 0.2916733262125127, 0.29552297282907797, 0.1179145206311496], [0.23864868239739728, 0.2071441755475128, 0.14355285930343975, 0.2192327208696895, 0.070912026737454, 0.04934042356365187, 0.14606849075138523, 0.1927719425811833, 0.24773994378610095, 0.22579116217840461, 0.16958063244672258, 0.191906067320464, 0.16069860871757918, 0.20503681653708222, 0.35619417389407165, 0.17890338446437654, 0.2705086780137529, 0.23161848366693355, 0.1616675357381542, 0.9999998366499743, 0.24475730071685226, 0.251782853149697, 0.22373645457684116, 0.19048758060660262, 0.2971985482730311, 0.3107285062910367, 0.1459952214130532, 0.3770743522334962, 0.34352275310056385, 0.3241521021717432, 0.09714235872223764, 0.29669504000356667, 0.1430608812292696, 0.2439688913557073, 0.4133077010302121, 0.421905465996366, 0.2343426576937188, 0.23654224580735117, 0.20648742109453397, 0.09363020020402078, 0.28320691139128096, 0.21397368261918764, 0.15226585723287084, 0.24071798938083117, 0.2958567017818415, 0.29456967574792475, 0.23367770925416895, 0.1092417844573797, 0.13001154343634047, 0.35616286528908636], [0.2201489780303296, 0.09506758644271013, 0.10070690403728118, 0.08325318224606743, 0.03657968709805256, 0.051433694287869994, 0.1654429421685687, 0.18953392085314996, 0.30718259217874255, 0.3117111131135948, 0.2197878661940533, 0.3695190295240024, 0.25785970983249656, 0.25791686946514414, 0.4696807472850313, 0.21773637673084734, 0.30727067921560225, 0.4647049679541711, 0.05141816317491836, 0.24475730071685226, 0.9999998241803141, 0.28076220472106117, 0.13756246655206483, 0.025059728293018533, 0.2248138688144636, 0.016155633796525046, 0.20321989711302113, 0.3144034891216918, 0.11658150398453156, 0.05440872397964832, 0.10228456657689933, 0.2985240186304411, 0.15104714715838768, 0.27541475626387285, 0.0737545818850477, 0.2964145671059726, 0.24597985196667627, 0.3302528354575818, 0.4156959224094742, 0.19099710360732955, 0.4214270353598676, 0.3878876034094829, 0.41489398676798384, 0.40400428363858637, 0.4498080861037772, 0.36160414911925576, 0.2013888403299375, 0.07249262539648718, 0.18126194092280867, 0.44187000394676657], [0.1490749200613533, 0.07735573311029256, 0.09438067363874517, 0.12265657422564942, 0.012468093559013748, 0.03157688151837043, 0.07579422974870594, 0.3334806190377084, 0.3634439815585584, 0.37770745262251504, 0.22736127817990662, 0.18605152727649896, 0.29174582141032235, 0.24306602061876048, 0.20627313540527253, 0.21526450058807128, 0.19338127855709392, 0.22077571631522835, 0.16660594331288606, 0.251782853149697, 0.28076220472106117, 0.9999999011401225, 0.17392134707268392, 0.12520969039546023, 0.2000891793061719, 0.16158591000419187, 0.19175123884294282, 0.21661183645444676, 0.1847933833350192, 0.13782127412162265, -0.028308016546268744, 0.20339603767038011, 0.16924091554743287, 0.27090050835302226, 0.1947363005765094, 0.2337155001899463, 0.22099667328908593, 0.2531500037458211, 0.3144747834436608, 0.3147763930071297, 0.18783017195424961, 0.2595322643277683, 0.25641929224023763, 0.22620916173448874, 0.2980563291151778, 0.13072680585875276, 0.2640500719758623, 0.10203110760724621, 0.12249800893390377, 0.33697720336761394], [0.0472933736074404, 0.050429698383523236, 0.04007036048677224, 0.15809905776626318, 0.07355785226533951, -0.03666957959795333, 0.03716867494044928, 0.3115536288764068, 0.15602318327843115, 0.11535051656669856, 0.22641733023025837, 0.03736751400115954, 0.2057215885227192, 0.23744073478773917, 0.23403393080252427, 0.07106006949863564, 0.21307188736334187, 0.15814779397018008, 0.1330389846069213, 0.22373645457684116, 0.13756246655206483, 0.17392134707268392, 0.9999998624739133, 0.09292438018803828, 0.0867359444438039, 0.2277564350589563, 0.23521363284405655, 0.15351541198657084, 0.13440554313078346, 0.17634440810308377, 0.10986187071574424, 0.012994967269345757, 0.013017906796047158, 0.14416447030314228, 0.23374751027029086, 0.1881680617018579, 0.1869453848054612, 0.13070550685863114, 0.041490882189186895, 0.21557953488022016, 0.13732724744542368, 0.14560817132124332, 0.06480627113418244, 0.053760481356576226, 0.22142348711342782, 0.12261635267292148, 0.04328225436958806, 0.055619327465400235, 0.26238324732859303, 0.21280936195801006], [0.19876135010651835, 0.08775151726951126, 0.14710157693424744, 0.424200880090414, 0.09245501606387309, 0.16363663694683378, 0.1981069902914035, 0.0074562916912071335, 0.06856397672397652, 0.10456933853874636, 0.131388396702553, 0.04909187710031069, 0.014573048171931438, 0.07798121672133679, 0.05998001245198606, 0.10119577425451592, 0.07531610510839426, 0.11967895592963734, 0.18289828549010503, 0.19048758060660262, 0.025059728293018533, 0.12520969039546023, 0.09292438018803828, 0.999999958638351, 0.3107605414593755, 0.2881645281425821, 0.05977118097346148, 0.18814654711110784, 0.3564517459988184, 0.2136377898833228, 0.06401103766979568, 0.03807269758680147, 0.11537824328422971, 0.22293312908219692, 0.16112381423071742, 0.19980040273826966, 0.1048368544004392, 0.11438217739740886, 0.013052752898700112, 0.18859013058066182, 0.03409919216251961, 0.05868776940849256, 0.04824801010674676, -0.026960992153943583, 0.08909964157725309, -0.05643941127673144, -0.030790697448460497, 0.0745616505614794, 0.14275624676576662, 0.11471099134826972], [0.3286115194565825, 0.23788995611509123, 0.28958722862049247, 0.15555183156684696, 0.10315839112480914, 0.16054431461482477, 0.18757914494015945, 0.07721549228753785, 0.1893340639814428, 0.23699566810608363, 0.2071970603299445, 0.1135476001900436, 0.16261839456675922, 0.13511916641844482, 0.246036159470148, 0.19626747759065188, 0.09894225661686465, 0.1348811911086069, 0.23174711315925695, 0.2971985482730311, 0.2248138688144636, 0.2000891793061719, 0.0867359444438039, 0.3107605414593755, 0.9999996901668594, 0.16548764482060974, 0.14699694128590346, 0.30287003349604447, 0.3180396579608113, 0.2634148122661692, 0.1391589074906422, 0.3132164739266763, 0.32628128375267196, 0.32696676576073785, 0.2981242356500997, 0.36358713508461876, 0.1740986804246937, 0.19971994735557547, 0.20199371005844674, 0.11307505312460929, 0.18025056439853376, 0.1997678989888584, 0.1215532926657725, 0.15971098149034446, 0.061600691648260236, 0.23531831449675789, 0.03695046620051898, 0.15585100932284657, 0.1524167035854161, 0.18202955616060063], [0.30113804071557143, 0.26846057658313466, 0.22459940021340302, 0.2657651018185358, 0.16458712541520348, 0.1916263895199543, 0.2325418113068786, 0.10882844186905237, 0.18226877185925267, 0.07082080567989847, 0.15847362157288264, 0.04674124434530502, 0.09861830241866171, 0.24596235016746532, 0.07561549358212691, 0.08908939622335822, 0.20798569428296892, 0.043390473187874916, 0.14149342191255226, 0.3107285062910367, 0.016155633796525046, 0.16158591000419187, 0.2277564350589563, 0.2881645281425821, 0.16548764482060974, 0.9999998208335057, 0.24747647778036663, 0.4137043297657734, 0.33722678579246057, 0.350544724377094, 0.2221657880212509, 0.17242745814466331, 0.12954852204890344, 0.23106804257656482, 0.3929759984935291, 0.3293911460344554, 0.32547702997739353, 0.20234365808367458, -0.015621381272978331, 0.1956595889963218, 0.11442225207847952, 0.17810372317687428, 0.04294268458463736, 0.18813663610251874, 0.1595654042400621, 0.21667417740862446, 0.18826565421386973, 0.26155271659542123, 0.02665340874970959, 0.19191118452950373], [0.14289258635698038, 0.18977481909643162, 0.21404730561229202, 0.1368344324009826, 0.2161251782011963, 0.23977178601340962, 0.18388021719668798, 0.1288112205500667, 0.16546127266961547, 0.1893078550443119, 0.21201716095561618, 0.24394572068961784, 0.15493640554781096, 0.2419706853658518, 0.1207496615261664, 0.23655853009462893, 0.14113659733111183, 0.18944327417294726, 0.10718995208848973, 0.1459952214130532, 0.20321989711302113, 0.19175123884294282, 0.23521363284405655, 0.05977118097346148, 0.14699694128590346, 0.24747647778036663, 0.9999998106522169, 0.21230070258489114, 0.18521068341569433, 0.18212482425729085, 0.1978539344896908, 0.17803390975067207, 0.12898900501854574, 0.12086836304281347, 0.15448558930815146, 0.16278223880571344, 0.29497295174675053, 0.17971014629579304, 0.12325214019522937, 0.20197717062937492, 0.10112027248561062, 0.2614300610287907, 0.2462593116786751, 0.1626326751415469, 0.3056436695436091, 0.08510117291871619, 0.14429868290277212, 0.07916770906756733, 0.13137441448949644, 0.1559155320575637], [0.3228176906700112, 0.37503492080090894, 0.2545920017315893, 0.21511848005812462, 0.20382065584017628, 0.24222689691982074, 0.33410770038407106, 0.1781915926067426, 0.30026070668330074, 0.17629975999497402, 0.3871658293654, 0.124955274016318, 0.24132844074887994, 0.3133211147797049, 0.26794704023012283, 0.16470035660072674, 0.37066714041292836, 0.23191093952092318, 0.22541331300409814, 0.3770743522334962, 0.3144034891216918, 0.21661183645444676, 0.15351541198657084, 0.18814654711110784, 0.30287003349604447, 0.4137043297657734, 0.21230070258489114, 0.9999997163262102, 0.4266192188316872, 0.30392058479900425, 0.18603659739996717, 0.2500771881795368, 0.22475221882812624, 0.30260920352488274, 0.29041416184840957, 0.4291876877316124, 0.3008105785765964, 0.41780818998772773, 0.19796834288736403, 0.18284623243650672, 0.34680111071443376, 0.37007579830780135, 0.1142487796348007, 0.3595930289080671, 0.20778563035305012, 0.39349485459288874, 0.18556522706397716, 0.2937349680693587, 0.09411729826564513, 0.29879117475090056], [0.3822142519082411, 0.17577130548163866, 0.2519373225364584, 0.25712726081902837, 0.25778325746512865, 0.26539003378718357, 0.22541033313553535, 0.09331274337696234, 0.19604004940602365, 0.2148222586209329, 0.2068645217793895, 0.11468981969760916, 0.265925094998128, 0.22526484114761908, 0.16707241961923375, 0.2113853879203791, 0.21690868842735403, 0.10868376961855777, 0.407117401268545, 0.34352275310056385, 0.11658150398453156, 0.1847933833350192, 0.13440554313078346, 0.3564517459988184, 0.3180396579608113, 0.33722678579246057, 0.18521068341569433, 0.4266192188316872, 0.9999999392375434, 0.6044626894888617, 0.3804492839686374, 0.1897759951541108, 0.19886329265807662, 0.21503616277601073, 0.37852659036959024, 0.3797912394959465, 0.2833803441057798, 0.30898507278893556, 0.0513393194816143, 0.2828003778488314, 0.13968597465375787, 0.2275943546231187, 0.0749633067309374, 0.2024379287927094, 0.1598081318088855, 0.2696334576025545, 0.1717945899760222, 0.29209891383618014, 0.2388984192000057, 0.21772073323910296], [0.3704932892633074, 0.24818220278079295, 0.25470863810581534, 0.28959525868367036, 0.3132955154387394, 0.17064521921797454, 0.14805622637942512, 0.06464728692796443, 0.15557444026214753, 0.19610077063948075, 0.2192523756818, 0.1264753690962096, 0.2827067130987445, 0.25997101792475874, 0.049007362399139553, 0.2440957549943228, 0.22167478863025425, 0.031664931416930935, 0.45725655654196634, 0.3241521021717432, 0.05440872397964832, 0.13782127412162265, 0.17634440810308377, 0.2136377898833228, 0.2634148122661692, 0.350544724377094, 0.18212482425729085, 0.30392058479900425, 0.6044626894888617, 1.0000000804201643, 0.427214605240882, 0.17231422112824074, 0.17340281660587803, 0.1951595536578234, 0.47596367493037645, 0.3334682946834165, 0.337610983534631, 0.2998529342731222, 0.01967745591320154, 0.24602591390283102, 0.03366487637056159, 0.16529129136275494, -0.02976425598765637, 0.0931817864265933, 0.10551263016705889, 0.18096430330310317, 0.06750624183202583, 0.3009042003750181, 0.266662825091141, 0.16752720790863895], [0.21778976044782905, 0.07009710072451263, 0.15977903891374884, 0.1280519761335491, 0.40050331893944147, 0.14256321479264705, 0.17641236919508368, 0.004166475665160082, 0.11357544347984638, 0.11006640202953319, 0.10868419880513261, 0.06202919327329662, 0.21196446839986519, 0.17173909773847357, -0.000764425856339325, 0.07756662602604902, 0.1310121833023305, -0.05123235244904935, 0.21888022607971108, 0.09714235872223764, 0.10228456657689933, -0.028308016546268744, 0.10986187071574424, 0.06401103766979568, 0.1391589074906422, 0.2221657880212509, 0.1978539344896908, 0.18603659739996717, 0.3804492839686374, 0.427214605240882, 0.9999997657306658, 0.020572825703384708, 0.059895220184143186, 0.12276031257757765, 0.2219099380760402, 0.13106689698100762, 0.29970126292883315, 0.08099318254194005, -0.005732639737122321, 0.2112840935423069, 0.024065714012459178, 0.24015216954934915, 0.12404813111949964, 0.20209229321410355, 0.11283194502069946, 0.1611205643690697, 0.07891426220418915, 0.1088276003981821, 0.16667746857148852, 0.17364060100772433], [0.26752032007482485, 0.2872560450624476, 0.2720241728543455, 0.13106499547210282, 0.13556166179745022, 0.15396455421144606, 0.10205374007366215, 0.07147336178993552, 0.36996075016298574, 0.3963925757893074, 0.08635583740329275, 0.2340666143416995, 0.2281881059186866, 0.17817100178091183, 0.22062996573376192, 0.3236664390447983, 0.13871076255457263, 0.23269599575337058, 0.27319963061759817, 0.29669504000356667, 0.2985240186304411, 0.20339603767038011, 0.012994967269345757, 0.03807269758680147, 0.3132164739266763, 0.17242745814466331, 0.17803390975067207, 0.2500771881795368, 0.1897759951541108, 0.17231422112824074, 0.020572825703384708, 0.9999998869941393, 0.20559576221676729, 0.344570863352036, 0.2525946735176398, 0.29773133049696376, 0.22551283292006463, 0.24006553415096646, 0.2915733976915141, 0.15000277349394076, 0.3903617982307961, 0.23753246128240907, 0.2044260865892627, 0.2223141031639946, 0.24331736038288976, 0.16212956815470003, 0.14728325053730576, 0.19198948383707382, 0.028119269855396492, 0.2912404861295687], [0.13942472852929033, 0.15833890343761292, 0.11060131018406807, 0.03807565958455614, 0.10482147082449583, 0.19544838622874663, 0.17951753371518706, 0.13326776932771173, 0.119302975364332, 0.08740521694810904, 0.1029479769033628, 0.23454909673751423, 0.036039555409502474, 0.02781260548882302, 0.12052949624192538, 0.05102085110348, 0.0734301494851497, -0.0065415492919153155, 0.1527537144584883, 0.1430608812292696, 0.15104714715838768, 0.16924091554743287, 0.013017906796047158, 0.11537824328422971, 0.32628128375267196, 0.12954852204890344, 0.12898900501854574, 0.22475221882812624, 0.19886329265807662, 0.17340281660587803, 0.059895220184143186, 0.20559576221676729, 0.9999999182471222, 0.1764418352385577, 0.21617352839028192, 0.17121012857621615, 0.2508226166552895, 0.15287424294065358, 0.11302635020793175, 0.0657066025425644, 0.11224571209603518, 0.11171350832706191, 0.03194872342127946, 0.15529648133352203, 0.13212411739196156, 0.21296688995240973, 0.024545453540986, 0.16371954841487413, 0.027989587276520247, 0.2052146860665785], [0.32610442468641787, 0.1695561541498088, 0.19040163447467548, 0.20871357544420055, 0.03373897462130315, 0.19246901259822863, 0.1329102828798815, 0.15003035716778793, 0.3137733178131215, 0.3480211898163411, 0.26199261729753576, 0.1339444369560075, 0.3572001860342834, 0.2742062257725004, 0.37961093355140674, 0.23115534213359756, 0.2737734604360257, 0.12854047452820405, 0.15446220979321726, 0.2439688913557073, 0.27541475626387285, 0.27090050835302226, 0.14416447030314228, 0.22293312908219692, 0.32696676576073785, 0.23106804257656482, 0.12086836304281347, 0.30260920352488274, 0.21503616277601073, 0.1951595536578234, 0.12276031257757765, 0.344570863352036, 0.1764418352385577, 0.9999997049823182, 0.395388729676218, 0.34678680996198386, 0.30829848155681505, 0.4064151895253356, 0.3133396298783805, 0.29258931216715095, 0.3541432750506822, 0.3121813092851149, 0.20278567719145418, 0.25403667101219535, 0.2726393849338573, 0.19620562453882184, 0.31841071140376864, 0.15643378525697446, 0.1646974800691735, 0.38422309549729877], [0.41923083105436454, 0.198138451223489, 0.27564543968158983, 0.2727573892068237, 0.07020492998146013, 0.18043333707073783, 0.19122443507322587, 0.1285887540916898, 0.21700664216259175, 0.1802209021821029, 0.1632126686334507, 0.09239247615010149, 0.2896658862177435, 0.2027529122678674, 0.16050611222099748, 0.1291513311340024, 0.1473391123440031, 0.053627438966523, 0.26190376015607825, 0.4133077010302121, 0.0737545818850477, 0.1947363005765094, 0.23374751027029086, 0.16112381423071742, 0.2981242356500997, 0.3929759984935291, 0.15448558930815146, 0.29041416184840957, 0.37852659036959024, 0.47596367493037645, 0.2219099380760402, 0.2525946735176398, 0.21617352839028192, 0.395388729676218, 0.9999997524072742, 0.39626703894327764, 0.2490642670040714, 0.2712282484259847, 0.08959883686757994, 0.17454626557193284, 0.20267477453130622, 0.22915610500330263, 0.10710223394515525, 0.09734140663435407, 0.20328403858135297, 0.24336778110244314, 0.3072990902631703, 0.1538920440079717, 0.0811311476319278, 0.22266315985923613], [0.4333252006674661, 0.23278437400606944, 0.2690897765270105, 0.25006607222383115, 0.02411804883424071, 0.15623076562164856, 0.2260361233411533, 0.12852833769720406, 0.3144259344980721, 0.31746707740522984, 0.25528322323756125, 0.11489467021166921, 0.2920243936727155, 0.3485583056634072, 0.20784931206166585, 0.15597883320584816, 0.4054576259200391, 0.17180156021619042, 0.2798615443559, 0.421905465996366, 0.2964145671059726, 0.2337155001899463, 0.1881680617018579, 0.19980040273826966, 0.36358713508461876, 0.3293911460344554, 0.16278223880571344, 0.4291876877316124, 0.3797912394959465, 0.3334682946834165, 0.13106689698100762, 0.29773133049696376, 0.17121012857621615, 0.34678680996198386, 0.39626703894327764, 0.9999999308800391, 0.3423946401374303, 0.35003630952172965, 0.2854499775309417, 0.19007689056715632, 0.3870452431478159, 0.3344750965994236, 0.15473045989611398, 0.37118555482661697, 0.25998181863268194, 0.508067053282432, 0.27051664714018564, 0.36431890901203917, 0.24796716144814923, 0.2493281329908763], [0.24487260419331847, 0.21024673371086283, 0.3233452914350286, 0.2153981383430717, 0.3871006893802147, 0.20332107278255868, 0.2744362476081007, 0.2210677599469787, 0.23619566825358024, 0.2633927198665219, 0.23157996162276884, 0.32179305417992593, 0.3437473233537961, 0.3361054632963362, 0.2875073248986441, 0.24997237582780518, 0.3046539375754893, 0.20989223920712957, 0.26690436446023025, 0.2343426576937188, 0.24597985196667627, 0.22099667328908593, 0.1869453848054612, 0.1048368544004392, 0.1740986804246937, 0.32547702997739353, 0.29497295174675053, 0.3008105785765964, 0.2833803441057798, 0.337610983534631, 0.29970126292883315, 0.22551283292006463, 0.2508226166552895, 0.30829848155681505, 0.2490642670040714, 0.3423946401374303, 0.9999998526495164, 0.31280225330343736, 0.1781813767936784, 0.2537474639821835, 0.2217035164384751, 0.15881344838555447, 0.14224693687769424, 0.19363028185784123, 0.286410764927347, 0.2793082744561274, 0.2764218024576598, 0.22021003538308773, 0.2820680153978049, 0.2474465968657732], [0.2557462630035528, 0.10986642676241731, 0.08111170347960597, 0.12376413228757255, 0.12092045862038406, 0.12012726259390474, 0.09243360735847134, 0.13944829265819925, 0.3844948054931486, 0.40580501349344333, 0.3111568369044214, 0.21154239586450369, 0.4119387779547444, 0.32947305093098317, 0.2805128550174081, 0.19130866863385285, 0.1420916730874382, 0.14556925896538359, 0.3311368995354733, 0.23654224580735117, 0.3302528354575818, 0.2531500037458211, 0.13070550685863114, 0.11438217739740886, 0.19971994735557547, 0.20234365808367458, 0.17971014629579304, 0.41780818998772773, 0.30898507278893556, 0.2998529342731222, 0.08099318254194005, 0.24006553415096646, 0.15287424294065358, 0.4064151895253356, 0.2712282484259847, 0.35003630952172965, 0.31280225330343736, 0.9999998377848346, 0.29369530276788425, 0.3411371923021774, 0.352170043556856, 0.26265030740846945, 0.22015630642168837, 0.2899406039172412, 0.2736640039333158, 0.2515932304482551, 0.3977991121298978, 0.28042822012977, 0.24029698289325235, 0.32232270286145637], [0.16657247979890266, 0.07028687678544784, 0.19603364667751152, 0.10250545962247805, 0.017267956814981465, 0.08437386511030548, 0.09879839358649256, 0.2936101691167449, 0.4181067656936265, 0.425330735577758, 0.12120365067923122, 0.2472991003577755, 0.2699243412888087, 0.26720350434730533, 0.3580265836256388, 0.30907203447128256, 0.3404442209591978, 0.39699354662035713, 0.03770485599229522, 0.20648742109453397, 0.4156959224094742, 0.3144747834436608, 0.041490882189186895, 0.013052752898700112, 0.20199371005844674, -0.015621381272978331, 0.12325214019522937, 0.19796834288736403, 0.0513393194816143, 0.01967745591320154, -0.005732639737122321, 0.2915733976915141, 0.11302635020793175, 0.3133396298783805, 0.08959883686757994, 0.2854499775309417, 0.1781813767936784, 0.29369530276788425, 0.9999998339058864, 0.25717577980080825, 0.38289927372904553, 0.3043387335663631, 0.1913947250155978, 0.3485849586149792, 0.35760345528704596, 0.32042337367775287, 0.34615868895984137, 0.11142479588294116, 0.1780783130165301, 0.2796490107278373], [0.220543079044819, 0.19455037416932147, 0.09145604198860927, 0.11476187454477729, 0.17812019276569638, 0.1309810823568572, 0.09920414022344268, 0.26010869544965304, 0.3213222123143026, 0.31241728027074034, 0.2424757065593765, 0.12676734012692562, 0.3715688644531304, 0.2701361266485265, 0.161774882695511, 0.22902145527356804, 0.24179391698335945, 0.2643548782540997, 0.2770833426156812, 0.09363020020402078, 0.19099710360732955, 0.3147763930071297, 0.21557953488022016, 0.18859013058066182, 0.11307505312460929, 0.1956595889963218, 0.20197717062937492, 0.18284623243650672, 0.2828003778488314, 0.24602591390283102, 0.2112840935423069, 0.15000277349394076, 0.0657066025425644, 0.29258931216715095, 0.17454626557193284, 0.19007689056715632, 0.2537474639821835, 0.3411371923021774, 0.25717577980080825, 0.9999999045204455, 0.21246302501211606, 0.2602737479797706, 0.18389092669186996, 0.17955559103476845, 0.29644293545061107, 0.20742010890877693, 0.2862185072865585, 0.10942989493972896, 0.4006528561436584, 0.28002393940821935], [0.1705134891579686, 0.16850006279490523, 0.2147409692667693, 0.15452741414047538, 0.05068897774471033, 0.10276639084420659, 0.12176336693932167, 0.2151280147548317, 0.36110163421407726, 0.2354699497052319, 0.23949658134203572, 0.14073235698642483, 0.30110314204837285, 0.18317170913503972, 0.5007769865959508, 0.23600069432119775, 0.258187338145205, 0.34872996321463295, 0.2045459170835407, 0.2832069113912809, 0.42142703535986764, 0.18783017195424956, 0.13732724744542374, 0.03409919216251959, 0.18025056439853382, 0.11442225207847956, 0.10112027248561065, 0.3468011107144338, 0.13968597465375793, 0.033664876370561606, 0.02406571401245917, 0.3903617982307962, 0.11224571209603516, 0.3541432750506822, 0.20267477453130617, 0.3870452431478159, 0.22170351643847513, 0.35217004355685616, 0.38289927372904575, 0.2124630250121161, 1.0000000041877486, 0.3120540591999738, 0.1928558066047244, 0.32940794177779137, 0.23098351312993903, 0.417713914366069, 0.33588633434207127, 0.18413100519913378, 0.17727240316948042, 0.322704689067866], [0.2555673540794088, 0.26276223876050053, 0.17115252163975103, 0.13087694138514439, 0.1397211396298062, 0.04657310292848113, 0.19138814483260014, 0.17844859180731604, 0.2737324492191769, 0.23411838288139983, 0.22698978844135198, 0.20596330768893956, 0.27205072936175456, 0.38967126590455303, 0.2331012119220731, 0.2527496232340284, 0.2824747468751085, 0.2660189141024158, 0.21816111466100385, 0.21397368261918764, 0.3878876034094829, 0.2595322643277683, 0.14560817132124332, 0.05868776940849256, 0.1997678989888584, 0.17810372317687428, 0.2614300610287907, 0.37007579830780135, 0.2275943546231187, 0.16529129136275494, 0.24015216954934915, 0.23753246128240907, 0.11171350832706191, 0.3121813092851149, 0.22915610500330263, 0.3344750965994236, 0.15881344838555447, 0.26265030740846945, 0.3043387335663631, 0.2602737479797706, 0.3120540591999737, 0.9999998698479371, 0.3609313699075748, 0.5054409044572137, 0.44199787620249203, 0.3945704911296746, 0.21936043703768876, 0.1629926424668939, 0.09751676771874773, 0.4086636222718393], [0.1495618845150259, 0.006030592194528169, 0.07257371283100038, 0.054916777512137235, -0.012785829034339165, 0.02228738088019933, 0.028805906936724534, 0.06787878933060468, 0.2837025165753705, 0.3527521046777665, 0.03031511998027319, 0.2343430087847243, 0.2175733203706624, 0.08767112348720181, 0.19336185531684066, 0.09775126594185743, 0.04049455220868518, 0.2440882915193735, 0.053976636737456785, 0.15226585723287084, 0.41489398676798384, 0.25641929224023763, 0.06480627113418244, 0.04824801010674676, 0.1215532926657725, 0.04294268458463736, 0.2462593116786751, 0.1142487796348007, 0.0749633067309374, -0.02976425598765637, 0.12404813111949964, 0.2044260865892627, 0.03194872342127946, 0.20278567719145418, 0.10710223394515525, 0.15473045989611398, 0.14224693687769424, 0.22015630642168837, 0.1913947250155978, 0.18389092669186996, 0.19285580660472443, 0.3609313699075748, 0.9999997606938678, 0.4056161695436766, 0.30982984323320373, 0.24306882163041033, 0.1652495655256485, 0.0453597860863467, 0.023099108979899235, 0.3001223566078826], [0.2210585093951223, 0.25243407747823754, 0.15769663660505834, 0.050432636605822666, 0.07499366250362535, 0.03523428348354143, 0.15769695336495615, 0.14853258191254665, 0.32718106632297816, 0.2733611139461321, 0.14608871478070812, 0.23256055605455372, 0.21809379896050388, 0.2029555299624225, 0.2605025070680419, 0.12456964399826892, 0.28830175109038053, 0.2828861804729923, 0.09607535796217115, 0.24071798938083117, 0.40400428363858637, 0.22620916173448874, 0.053760481356576226, -0.026960992153943583, 0.15971098149034446, 0.18813663610251874, 0.1626326751415469, 0.3595930289080671, 0.2024379287927094, 0.0931817864265933, 0.20209229321410355, 0.2223141031639946, 0.15529648133352203, 0.25403667101219535, 0.09734140663435407, 0.37118555482661697, 0.19363028185784123, 0.2899406039172412, 0.3485849586149792, 0.17955559103476845, 0.3294079417777913, 0.5054409044572137, 0.4056161695436766, 0.9999999626491838, 0.3586719606373621, 0.549309462367349, 0.23585566228115878, 0.2215185481504964, 0.08617130068412834, 0.4152426900752307], [0.17926304304865093, 0.15314091164807236, 0.08350395452096143, 0.05219985638625356, 0.045423306246648226, -0.01733825955913968, 0.06878522490854613, 0.22562808666177658, 0.33256524904155244, 0.26483502110152535, 0.15086862172183207, 0.441242479812236, 0.2050331573164922, 0.3303139320606239, 0.20448907548435455, 0.23919390077257224, 0.36200457229233335, 0.2377495094040049, 0.10849188857973205, 0.2958567017818415, 0.4498080861037772, 0.2980563291151778, 0.22142348711342782, 0.08909964157725309, 0.061600691648260236, 0.1595654042400621, 0.3056436695436091, 0.20778563035305012, 0.1598081318088855, 0.10551263016705889, 0.11283194502069946, 0.24331736038288976, 0.13212411739196156, 0.2726393849338573, 0.20328403858135297, 0.25998181863268194, 0.286410764927347, 0.2736640039333158, 0.35760345528704596, 0.29644293545061107, 0.23098351312993895, 0.44199787620249203, 0.30982984323320373, 0.3586719606373621, 0.9999998267357778, 0.28509228656066377, 0.25566995044291485, 0.11508348452986747, 0.21575068391888258, 0.42419077089119084], [0.31809060667835565, 0.1288215302702972, 0.21339794573307333, 0.09945805634855048, 0.08078460437093425, 0.043872155295984636, 0.15967959693234807, 0.14182176418397602, 0.2969257911111204, 0.19316753446297646, 0.11722978680811093, 0.08836641490746372, 0.28066894435929185, 0.2876988145770433, 0.25527677299525964, 0.167527093321565, 0.40624596673423596, 0.33590288894743636, 0.16426090031367577, 0.29456967574792475, 0.36160414911925576, 0.13072680585875276, 0.12261635267292148, -0.05643941127673144, 0.23531831449675789, 0.21667417740862446, 0.08510117291871619, 0.39349485459288874, 0.2696334576025545, 0.18096430330310317, 0.1611205643690697, 0.16212956815470003, 0.21296688995240973, 0.19620562453882184, 0.24336778110244314, 0.508067053282432, 0.2793082744561274, 0.2515932304482551, 0.32042337367775287, 0.20742010890877693, 0.41771391436606903, 0.3945704911296746, 0.24306882163041033, 0.549309462367349, 0.28509228656066377, 0.9999999273217255, 0.32381621787090265, 0.38936040516598547, 0.20371432482589244, 0.2998976837502997], [0.2790087736506633, 0.04294622733540429, 0.08524874244763432, 0.12550229115279693, 0.10548707203282483, 0.060066126255103235, 0.11432628396631606, 0.2744966550772084, 0.3541482897001881, 0.2700468131178445, 0.1988740344509387, 0.10013861154943701, 0.32051673204644393, 0.2145110539151358, 0.26640621626906985, 0.1633631244262546, 0.14974883031608383, 0.22514066704422853, 0.10213559944597617, 0.23367770925416895, 0.2013888403299375, 0.2640500719758623, 0.04328225436958806, -0.030790697448460497, 0.03695046620051898, 0.18826565421386973, 0.14429868290277212, 0.18556522706397716, 0.1717945899760222, 0.06750624183202583, 0.07891426220418915, 0.14728325053730576, 0.024545453540986, 0.31841071140376864, 0.3072990902631703, 0.27051664714018564, 0.2764218024576598, 0.3977991121298978, 0.34615868895984137, 0.2862185072865585, 0.3358863343420712, 0.21936043703768876, 0.1652495655256485, 0.23585566228115878, 0.25566995044291485, 0.32381621787090265, 0.99999987114337, 0.1915321869847607, 0.18531905243650815, 0.24400031869080346], [0.20188453056946765, 0.11108778173509704, 0.15056590463895086, 0.18810564731989393, 0.10214307287848079, 0.08867642312816752, 0.07091075723177599, 0.10578702277237986, 0.20246610490565775, 0.0859937027633589, 0.2155947811368394, 0.17138412481514229, 0.2520831923097974, 0.3001383271819147, 0.06502238161758289, 0.16161962211879344, 0.1797991524806849, -0.009414604579547441, 0.2916733262125127, 0.1092417844573797, 0.07249262539648718, 0.10203110760724621, 0.055619327465400235, 0.0745616505614794, 0.15585100932284657, 0.26155271659542123, 0.07916770906756733, 0.2937349680693587, 0.29209891383618014, 0.3009042003750181, 0.1088276003981821, 0.19198948383707382, 0.16371954841487413, 0.15643378525697446, 0.1538920440079717, 0.36431890901203917, 0.22021003538308773, 0.28042822012977, 0.11142479588294116, 0.10942989493972896, 0.1841310051991338, 0.1629926424668939, 0.0453597860863467, 0.2215185481504964, 0.11508348452986747, 0.38936040516598547, 0.1915321869847607, 0.9999998031890462, 0.15506623220818402, 0.0512713858021955], [0.1705155487322741, 0.11982696140090353, 0.10798470801528276, 0.11275015433442032, 0.20210292242774058, 0.04915445452331561, 0.15266258771369573, 0.2169275598981934, 0.11529867443885027, 0.16494819716025094, 0.17800292329281558, 0.13413506631909458, 0.3445400195464698, 0.30562011920533827, 0.12192460436589114, 0.25473989904639305, 0.25936982203379677, 0.12430728634864832, 0.29552297282907797, 0.13001154343634047, 0.18126194092280867, 0.12249800893390377, 0.26238324732859303, 0.14275624676576662, 0.1524167035854161, 0.02665340874970959, 0.13137441448949644, 0.09411729826564513, 0.2388984192000057, 0.266662825091141, 0.16667746857148852, 0.028119269855396492, 0.027989587276520247, 0.1646974800691735, 0.0811311476319278, 0.24796716144814923, 0.2820680153978049, 0.24029698289325235, 0.1780783130165301, 0.4006528561436584, 0.17727240316948042, 0.09751676771874773, 0.023099108979899235, 0.08617130068412834, 0.21575068391888258, 0.20371432482589244, 0.18531905243650815, 0.15506623220818402, 0.9999997185876437, 0.08620198267548669], [0.16516800248911245, 0.12951018643302062, 0.12384605211831082, 0.07051759601526462, 0.012884112720115951, -0.04499594531465893, 0.04325017063790057, 0.20774703473556824, 0.4405597093246416, 0.35682155723862385, 0.22449606934293576, 0.13622194100213447, 0.2511785638564258, 0.2258123676496354, 0.3659969830801, 0.21848770806719423, 0.2515538231852636, 0.3076720475058343, 0.1179145206311496, 0.35616286528908625, 0.4418700039467665, 0.33697720336761394, 0.21280936195801006, 0.1147109913482697, 0.18202955616060063, 0.19191118452950376, 0.15591553205756364, 0.29879117475090056, 0.2177207332391029, 0.16752720790863895, 0.17364060100772438, 0.29124048612956865, 0.2052146860665785, 0.38422309549729894, 0.22266315985923613, 0.24932813299087633, 0.24744659686577322, 0.3223227028614567, 0.2796490107278374, 0.28002393940821935, 0.3227046890678658, 0.4086636222718393, 0.30012235660788267, 0.41524269007523085, 0.4241907708911909, 0.2998976837502997, 0.24400031869080346, 0.051271385802195486, 0.08620198267548669, 0.9999999510571884]]}],
                        {"height": 1000, "margin": {"b": 40, "l": 40, "r": 40, "t": 40}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"autorange": true, "showgrid": false, "showticklabels": false, "ticks": ""}, "yaxis": {"autorange": true, "showgrid": false, "showticklabels": false, "ticks": ""}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('da16c833-cb5d-4e4f-acbb-911d5b2fe3f8');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                
            </script>
        </div>
</body>
</html>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Abstract-Features-Correlation">Abstract Features Correlation<a class="anchor-link" href="#Abstract-Features-Correlation"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># df[&#39;abstract_sent_vects&#39;] = encoder.squized(df.abstract.values).tolist()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># sents = 30</span>
<span class="c1"># labels = df[:sents].abstract.values</span>
<span class="c1"># features = df[:sents].abstract_sent_vects.values.tolist()</span>

<span class="c1"># fig = go.Figure(data=go.Heatmap(</span>
<span class="c1">#                     z=np.inner(features, features),</span>
<span class="c1">#                     x=labels,</span>
<span class="c1">#                     y=labels,</span>
<span class="c1">#                     colorscale=&#39;Viridis&#39;,</span>
<span class="c1">#                     ))</span>

<span class="c1"># fig.update_layout(</span>
<span class="c1">#     margin=dict(l=140, r=140, t=140, b=140),</span>
<span class="c1">#     height=1000,</span>
<span class="c1">#     xaxis=dict(</span>
<span class="c1">#         autorange=True,</span>
<span class="c1">#         showgrid=False,</span>
<span class="c1">#         ticks=&#39;&#39;,</span>
<span class="c1">#         showticklabels=False</span>
<span class="c1">#     ),</span>
<span class="c1">#     yaxis=dict(</span>
<span class="c1">#         autorange=True,</span>
<span class="c1">#         showgrid=False,</span>
<span class="c1">#         ticks=&#39;&#39;,</span>
<span class="c1">#         showticklabels=False</span>
<span class="c1">#     ),</span>
<span class="c1">#     hoverlabel = dict(namelength = -1)</span>
<span class="c1"># )</span>

<span class="c1"># fig.show()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="PCA-&amp;-Clustering">PCA &amp; Clustering<a class="anchor-link" href="#PCA-&amp;-Clustering"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span> <span class="nn">matplotlib.cm</span> <span class="k">as</span> <span class="nn">cm</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Title-Level-Clustering">Title Level Clustering<a class="anchor-link" href="#Title-Level-Clustering"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">n_clusters</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">vectors</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">title_sent_vects</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span> <span class="o">=</span> <span class="n">n_clusters</span><span class="p">,</span> <span class="n">init</span> <span class="o">=</span> <span class="s1">&#39;k-means++&#39;</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">kmean_indices</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">vectors</span><span class="p">)</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">512</span><span class="p">)</span>
<span class="n">scatter_plot_points</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">vectors</span><span class="p">)</span>

<span class="n">tmp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Feature space for the 1st feature&#39;</span><span class="p">:</span> <span class="n">scatter_plot_points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span>
    <span class="s1">&#39;Feature space for the 2nd feature&#39;</span><span class="p">:</span> <span class="n">scatter_plot_points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">kmean_indices</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[:</span><span class="n">vectors</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()]</span>
<span class="p">})</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Feature space for the 1st feature&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Feature space for the 2nd feature&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;labels&#39;</span><span class="p">,</span>
                 <span class="n">size</span><span class="o">=</span><span class="s1">&#39;labels&#39;</span><span class="p">,</span> <span class="n">hover_data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">),</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">1000</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Abstract-Level-Clustering">Abstract Level Clustering<a class="anchor-link" href="#Abstract-Level-Clustering"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># n_clusters = 10</span>
<span class="c1"># vectors = df.abstract_sent_vects.values.tolist()</span>
<span class="c1"># kmeans = KMeans(n_clusters = n_clusters, init = &#39;k-means++&#39;, random_state = 0)</span>
<span class="c1"># kmean_indices = kmeans.fit_predict(vectors)</span>

<span class="c1"># pca = PCA(n_components=512)</span>
<span class="c1"># scatter_plot_points = pca.fit_transform(vectors)</span>

<span class="c1"># tmp = pd.DataFrame({</span>
<span class="c1">#     &#39;Feature space for the 1st feature&#39;: scatter_plot_points[:,0],</span>
<span class="c1">#     &#39;Feature space for the 2nd feature&#39;: scatter_plot_points[:,1],</span>
<span class="c1">#     &#39;labels&#39;: kmean_indices,</span>
<span class="c1">#     &#39;title&#39;: df.abstract.values.tolist()[:vectors.__len__()]</span>
<span class="c1"># })</span>

<span class="c1"># fig = px.scatter(tmp, x=&#39;Feature space for the 1st feature&#39;, y=&#39;Feature space for the 2nd feature&#39;, color=&#39;labels&#39;,</span>
<span class="c1">#                  size=&#39;labels&#39;, hover_data=[&#39;title&#39;])</span>
<span class="c1"># fig.update_layout(</span>
<span class="c1">#     margin=dict(l=20, r=20, t=20, b=20),</span>
<span class="c1">#     height=1000</span>
<span class="c1"># )</span>

<span class="c1"># fig.show()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Graphs">Graphs<a class="anchor-link" href="#Graphs"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Preparing-the-data-for-graphs">Preparing the data for graphs<a class="anchor-link" href="#Preparing-the-data-for-graphs"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics.pairwise</span> <span class="kn">import</span> <span class="n">cosine_similarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Make a copy of our dataframe and create the similarity matrix for the extracted title vectors</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span> 
<span class="n">sdf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">similarity_matrix</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">(</span><span class="n">sdf</span><span class="o">.</span><span class="n">title_sent_vects</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 51.4 s, sys: 1min 51s, total: 2min 42s
Wall time: 13.9 s
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Add them into a dataframe, similiar to what a heatmap looks likes</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">simdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">similarity_matrix</span><span class="p">,</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's unstack them to add them easier into our graph</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">long_form</span> <span class="o">=</span> <span class="n">simdf</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="c1"># rename columns and turn into a dataframe</span>
<span class="n">long_form</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">rename</span><span class="p">([</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">long_form</span> <span class="o">=</span> <span class="n">long_form</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;sim&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">long_form</span> <span class="o">=</span> <span class="n">long_form</span><span class="p">[</span><span class="n">long_form</span><span class="o">.</span><span class="n">t1</span> <span class="o">!=</span> <span class="n">long_form</span><span class="o">.</span><span class="n">t2</span><span class="p">]</span>
<span class="n">long_form</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Plotly-Graph">Plotly Graph<a class="anchor-link" href="#Plotly-Graph"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip install python-igraph
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">igraph</span> <span class="k">as</span> <span class="nn">ig</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">lng</span> <span class="o">=</span> <span class="n">long_form</span><span class="p">[</span><span class="n">long_form</span><span class="o">.</span><span class="n">sim</span> <span class="o">&gt;</span> <span class="mf">0.75</span><span class="p">]</span> 
<span class="n">tuples</span> <span class="o">=</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lng</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
<span class="n">Gm</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">TupleList</span><span class="p">(</span><span class="n">tuples</span><span class="p">,</span> <span class="n">edge_attrs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sim&#39;</span><span class="p">])</span>
<span class="n">layt</span><span class="o">=</span><span class="n">Gm</span><span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="s1">&#39;kk&#39;</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Xn</span><span class="o">=</span><span class="p">[</span><span class="n">layt</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">layt</span><span class="o">.</span><span class="fm">__len__</span><span class="p">())]</span><span class="c1"># x-coordinates of nodes</span>
<span class="n">Yn</span><span class="o">=</span><span class="p">[</span><span class="n">layt</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">layt</span><span class="o">.</span><span class="fm">__len__</span><span class="p">())]</span><span class="c1"># y-coordinates</span>
<span class="n">Zn</span><span class="o">=</span><span class="p">[</span><span class="n">layt</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">layt</span><span class="o">.</span><span class="fm">__len__</span><span class="p">())]</span><span class="c1"># z-coordinates</span>
<span class="n">Xe</span><span class="o">=</span><span class="p">[]</span>
<span class="n">Ye</span><span class="o">=</span><span class="p">[]</span>
<span class="n">Ze</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">Gm</span><span class="o">.</span><span class="n">get_edgelist</span><span class="p">():</span>
    <span class="n">Xe</span><span class="o">+=</span><span class="p">[</span><span class="n">layt</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">],</span><span class="n">layt</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span><span class="c1"># x-coordinates of edge ends</span>
    <span class="n">Ye</span><span class="o">+=</span><span class="p">[</span><span class="n">layt</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">1</span><span class="p">],</span><span class="n">layt</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="mi">1</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span>
    <span class="n">Ze</span><span class="o">+=</span><span class="p">[</span><span class="n">layt</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">2</span><span class="p">],</span><span class="n">layt</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="mi">2</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objs</span> <span class="k">as</span> <span class="nn">go</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trace1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Xe</span><span class="p">,</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">Ye</span><span class="p">,</span>
  <span class="n">z</span> <span class="o">=</span> <span class="n">Ze</span><span class="p">,</span>
  <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span>
  <span class="n">line</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;rgb(0,0,0)&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">1</span><span class="p">),</span>
  <span class="n">hoverinfo</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
<span class="p">)</span>

<span class="n">trace2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Xn</span><span class="p">,</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">Yn</span><span class="p">,</span>
  <span class="n">z</span> <span class="o">=</span> <span class="n">Zn</span><span class="p">,</span>
  <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;markers&#39;</span><span class="p">,</span>
  <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;actors&#39;</span><span class="p">,</span>
  <span class="n">marker</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;circle&#39;</span><span class="p">,</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> 
    <span class="c1"># color = group,</span>
    <span class="n">colorscale</span> <span class="o">=</span> <span class="s1">&#39;Viridis&#39;</span><span class="p">,</span>
    <span class="n">line</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;rgb(50,50,50)&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
  <span class="p">),</span>
  <span class="n">text</span> <span class="o">=</span> <span class="n">lng</span><span class="o">.</span><span class="n">t1</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
  <span class="n">hoverinfo</span> <span class="o">=</span> <span class="s1">&#39;text&#39;</span>
<span class="p">)</span>

<span class="n">axis</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">showbackground</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
  <span class="n">showline</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
  <span class="n">zeroline</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
  <span class="n">showgrid</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
  <span class="n">showticklabels</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
  <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="p">)</span>

<span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
  <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Network of similarity between CORD-19 Articles(3D visualization)&quot;</span><span class="p">,</span>
  <span class="n">width</span> <span class="o">=</span> <span class="mi">1500</span><span class="p">,</span>
  <span class="n">height</span> <span class="o">=</span> <span class="mi">1500</span><span class="p">,</span>
  <span class="n">showlegend</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
  <span class="n">scene</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">xaxis</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span>
    <span class="n">yaxis</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span>
    <span class="n">zaxis</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span>
  <span class="p">),</span>
  <span class="n">margin</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">l</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">r</span> <span class="o">=</span> <span class="mi">20</span>
  <span class="p">),</span>

<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">trace1</span><span class="p">,</span><span class="n">trace2</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Finding-Communities">Finding Communities<a class="anchor-link" href="#Finding-Communities"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next step, we filter them nodes with higher similarity</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sim_weight</span> <span class="o">=</span> <span class="mf">0.75</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">long_form</span><span class="p">[</span><span class="n">long_form</span><span class="o">.</span><span class="n">sim</span> <span class="o">&gt;</span> <span class="n">sim_weight</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We create our graph from our dataframe</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
<span class="n">pd_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="n">pd_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">from_pandas_edgelist</span><span class="p">(</span><span class="n">gdf</span><span class="p">,</span> <span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">)</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">pd_graph</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">pd_graph</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">font_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">node_size</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's try to find communities in our graph</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">betCent</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">pd_graph</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">endpoints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">node_color</span> <span class="o">=</span> <span class="p">[</span><span class="mf">20000.0</span> <span class="o">*</span> <span class="n">pd_graph</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pd_graph</span><span class="p">]</span>
<span class="n">node_size</span> <span class="o">=</span>  <span class="p">[</span><span class="n">v</span> <span class="o">*</span> <span class="mi">10000</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">betCent</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span><span class="mi">35</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">pd_graph</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">font_size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                 <span class="n">node_color</span><span class="o">=</span><span class="n">node_color</span><span class="p">,</span>
                 <span class="n">node_size</span><span class="o">=</span><span class="n">node_size</span> <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Now-let's-get-our-groups">Now let's get our groups<a class="anchor-link" href="#Now-let's-get-our-groups"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">l</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">pd_graph</span><span class="p">))</span>

<span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">l</span><span class="p">)]</span>

<span class="n">d</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;articles&#39;</span><span class="p">:</span><span class="n">k</span> <span class="p">,</span> <span class="s1">&#39;groups&#39;</span><span class="p">:</span><span class="n">v</span> <span class="p">}</span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">L</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We've got our 'clustered' dataframe of articles, however since we filtered the data to take just the most similar articles, we've ended up havin left just 660 from the 5k data</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Creating-word-clouds-for-grooups">Creating word clouds for grooups<a class="anchor-link" href="#Creating-word-clouds-for-grooups"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gcd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span> 
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span> 
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span> 
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">RegexpTokenizer</span>

<span class="n">tok</span> <span class="o">=</span> <span class="n">RegexpTokenizer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w+&#39;</span><span class="p">)</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span> 
<span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
  <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tok</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">string</span><span class="p">)))</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">])</span>

<span class="n">gcd</span><span class="o">.</span><span class="n">articles</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">.</span><span class="n">articles</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">clean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gcd</span><span class="o">.</span><span class="fm">__len__</span><span class="p">(),</span><span class="n">gcd</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">clouds</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="n">big_groups</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;counts&#39;</span><span class="p">:</span><span class="n">gcd</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;counts&#39;</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">9</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">big_groups</span><span class="p">:</span>
  <span class="n">text</span> <span class="o">=</span> <span class="n">gcd</span><span class="p">[</span><span class="n">gcd</span><span class="o">.</span><span class="n">groups</span> <span class="o">==</span> <span class="n">group</span><span class="p">]</span><span class="o">.</span><span class="n">articles</span><span class="o">.</span><span class="n">values</span>
  <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
  <span class="n">clouds</span><span class="p">[</span><span class="n">group</span><span class="p">]</span> <span class="o">=</span> <span class="n">wordcloud</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">plot_figures</span><span class="p">(</span><span class="n">figures</span><span class="p">,</span> <span class="n">nrows</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plot a dictionary of figures.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    figures : &lt;title, figure&gt; dictionary</span>
<span class="sd">    ncols : number of columns of subplots wanted in the display</span>
<span class="sd">    nrows : number of rows of subplots wanted in the figure</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axeslist</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="n">nrows</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">ind</span><span class="p">,</span><span class="n">title</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">figures</span><span class="p">)),</span> <span class="n">figures</span><span class="p">):</span>
        <span class="n">axeslist</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[</span><span class="n">ind</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">figures</span><span class="p">[</span><span class="n">title</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">jet</span><span class="p">())</span>
        <span class="n">axeslist</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[</span><span class="n">ind</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Most Freqent words for the group </span><span class="si">{</span><span class="n">title</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">axeslist</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[</span><span class="n">ind</span><span class="p">]</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span> <span class="c1"># optional</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_figures</span><span class="p">(</span><span class="n">clouds</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

